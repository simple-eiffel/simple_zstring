<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simple_zstring - Simple Eiffel Library</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <img src="images/logo.png" alt="simple_zstring" class="logo">
            <h1>simple_zstring</h1>
            <p class="tagline">Memory-Efficient Unicode Strings with Dual-Storage Architecture</p>
            <div class="badges">
                <img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="MIT License">
                <img src="https://img.shields.io/badge/Eiffel-25.02-purple.svg" alt="Eiffel 25.02">
                <img src="https://img.shields.io/badge/DBC-Contracts-green.svg" alt="Design by Contract">
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <a href="#overview">Overview</a>
            <a href="#quick-start">Quick Start</a>
            <a href="#features">Features</a>
            <a href="#api-reference">API Reference</a>
            <a href="https://github.com/simple-eiffel/simple_zstring">GitHub</a>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview">
                <h2>Overview</h2>
                <p>
                    SIMPLE_ZSTRING provides memory-efficient Unicode string handling using a dual-storage
                    architecture. Inspired by the ZSTRING implementation in
                    <a href="https://github.com/finnianr/Eiffel-Loop">Eiffel-Loop</a>. Characters are stored in an 8-bit primary area using ISO-8859-15 (Latin-9)
                    encoding, with Unicode characters outside the codec range stored in a compact secondary area.
                </p>
                <p>
                    This approach provides ~70% memory savings for Western European text while supporting the
                    full Unicode range including emoji and CJK characters. The library includes utilities for
                    splitting, searching, escaping, formatting, and fluent string building.
                </p>
            </section>

            <section id="quick-start">
                <h2>Quick Start</h2>
                <pre><code class="language-eiffel">local
    z: SIMPLE_ZSTRING
do
    create z.make_from_string ("Hello World")
    create z.make_from_utf_8 ("Bonjour le monde")
    z.append_character ((0x1F600).to_character_32)  -- Emoji
    print (z.to_string_32)
    print (z.to_utf_8)
end</code></pre>
            </section>

            <section id="features">
                <h2>Features</h2>
                <ul>
                    <li>Dual-storage architecture (8-bit primary + 32-bit overflow)</li>
                    <li>UTF-8 encoding/decoding</li>
                    <li>ISO-8859-15 codec (Latin-9 with Euro sign)</li>
                    <li>String splitting, searching, escaping</li>
                    <li>Formatting and templates</li>
                    <li>Fluent builder pattern</li>
                    <li>Design by Contract throughout</li>
                    <li>Void-safe implementation</li>
                    <li>SCOOP-compatible</li>
                </ul>
            </section>

            <section id="api-reference">
                <h2>API Reference</h2>

                <h3>SIMPLE_ZSTRING</h3>
                <p>Main dual-storage string class with 8-bit primary storage and 32-bit overflow.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>make (n)</code></td>
                            <td>Create with capacity for n characters</td>
                        </tr>
                        <tr>
                            <td><code>make_empty</code></td>
                            <td>Create empty string</td>
                        </tr>
                        <tr>
                            <td><code>make_from_string (s)</code></td>
                            <td>Create from general string</td>
                        </tr>
                        <tr>
                            <td><code>make_from_utf_8 (s)</code></td>
                            <td>Create from UTF-8 bytes</td>
                        </tr>
                        <tr>
                            <td><code>item (i)</code></td>
                            <td>Character at position i</td>
                        </tr>
                        <tr>
                            <td><code>append_character (c)</code></td>
                            <td>Append character at end</td>
                        </tr>
                        <tr>
                            <td><code>to_string_32</code></td>
                            <td>Convert to full Unicode STRING_32</td>
                        </tr>
                        <tr>
                            <td><code>to_utf_8</code></td>
                            <td>Convert to UTF-8 encoded STRING_8</td>
                        </tr>
                    </tbody>
                </table>

                <h3>SIMPLE_ZSTRING_SPLITTER</h3>
                <p>String splitting operations by character, string, lines, or words.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>split_by_character (s, c)</code></td>
                            <td>Split string by character</td>
                        </tr>
                        <tr>
                            <td><code>split_lines (s)</code></td>
                            <td>Split into lines</td>
                        </tr>
                        <tr>
                            <td><code>split_words (s)</code></td>
                            <td>Split into words</td>
                        </tr>
                    </tbody>
                </table>

                <h3>SIMPLE_ZSTRING_SEARCHER</h3>
                <p>String searching with wildcards and prefix/suffix matching.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>index_of (s, pat, start)</code></td>
                            <td>Find pattern starting at position</td>
                        </tr>
                        <tr>
                            <td><code>matches_wildcard (s, pat)</code></td>
                            <td>Match with * and ? wildcards</td>
                        </tr>
                        <tr>
                            <td><code>starts_with (s, prefix)</code></td>
                            <td>Check prefix</td>
                        </tr>
                    </tbody>
                </table>

                <h3>SIMPLE_ZSTRING_ESCAPER</h3>
                <p>XML, JSON, URL, CSV, and shell escaping/unescaping.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>escape_xml (s)</code></td>
                            <td>Escape for XML</td>
                        </tr>
                        <tr>
                            <td><code>escape_json (s)</code></td>
                            <td>Escape for JSON</td>
                        </tr>
                        <tr>
                            <td><code>url_encode (s)</code></td>
                            <td>URL percent-encoding</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <p>Add to your ECF file:</p>
                <pre><code class="language-xml">&lt;library name="simple_zstring" location="$SIMPLE_LIBS/simple_zstring/simple_zstring.ecf"/&gt;</code></pre>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Simple Eiffel. <a href="https://github.com/simple-eiffel">GitHub</a></p>
        </div>
    </footer>
</body>
</html>
